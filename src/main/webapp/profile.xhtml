<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html [
        <!ENTITY copy "&#169;"> ]>

<html xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
>

<ui:composition template="template.xhtml">
    <ui:define name="title">
        <h:outputText value="#{profile.viewName}" />
    </ui:define>
    <ui:define name="content">

        <div class="shout-form">
            <h2>Perfil</h2>

            <h3>Avatar</h3>
            <p:graphicImage id="profile-picture" value="#{profile.image}" cache="false"/>

            <h4>Subir un nuevo avatar</h4>
            <h:form enctype="multipart/form-data">
                <h:inputFile value="#{profile.avatar}">
                    <f:ajax listener="#{profile.upload}" />
                </h:inputFile>
            </h:form>

            <h:form>
                <h:message for="password"/>
                <h:inputSecret id="password" styleClass="form__input" value="#{profile.password}" a:placeholder="Nueva ContraseÃ±a"/>
                <h:commandButton value="Cambiar" type="submit" action="#{profile.changePassword}" />
            </h:form>

            <h:form>
                <h:commandLink action="#{feed.feed}" value="Volver al feed" />
            </h:form>
        </div>

        <footer id="footer">
            <ul class="copyright">
                <li>&copy; Shout Social.</li>
            </ul>
        </footer>

    </ui:define>
</ui:composition>

</html>
